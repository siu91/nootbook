<!DOCTYPE HTML>
<html lang="zh-CN" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Python 编码规范 - Siu 的笔记本</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../../theme/style.css">
        

        

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');
                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }
                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../SUMMARY.html"><strong aria-hidden="true">1.</strong> 思考和总结🤔</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../mgmt/srcwd/index.html"><strong aria-hidden="true">1.1.</strong> 团队人员定义模型</a></li><li class="chapter-item "><a href="../../tech/backend/java-mem-mgmt/java-memory-management.html"><strong aria-hidden="true">1.2.</strong> 谈谈 Java 的内存管理（doing）</a></li></ol></li><li class="chapter-item expanded "><a href="../../SUMMARY.html"><strong aria-hidden="true">2.</strong> 架构和设计</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tech/project/AAA/index.html"><strong aria-hidden="true">2.1.</strong> DDD 实践：应用架构原型（doing）</a></li><li class="chapter-item "><a href="../../tech/backend/Java-Backend-Framework-Selection-Guide.html"><strong aria-hidden="true">2.2.</strong> Java 后端框架选型指南（doing）</a></li><li class="chapter-item "><a href="../../tech/project/PGHA/pg-ha-solution.html"><strong aria-hidden="true">2.3.</strong> PostgreSQL HA 方案</a></li><li class="chapter-item "><a href="../../tech/project/kubesphere/基于Linux安装kubesphere3多节点集群(prod).html"><strong aria-hidden="true">2.4.</strong> KuberSphere 生产部署方案</a></li><li class="chapter-item "><a href="../../tech/project/lwpoc/lwpoc/架构/构建实时湖仓.html"><strong aria-hidden="true">2.5.</strong> 构建实时湖仓</a></li><li class="chapter-item "><a href="../../tech/project/cicd/index.html"><strong aria-hidden="true">2.6.</strong> CICD 设计</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tech/project/cicd/design/CICD架构.html"><strong aria-hidden="true">2.6.1.</strong> CI/CD 架构</a></li><li class="chapter-item "><a href="../../tech/project/cicd/design/Jenkins_Cluster.html"><strong aria-hidden="true">2.6.2.</strong> Jenkins 集群</a></li><li class="chapter-item "><a href="../../tech/project/cicd/design/多分支流水线设计.html"><strong aria-hidden="true">2.6.3.</strong> 多分支流水线设计</a></li><li class="chapter-item "><a href="../../tech/project/cicd/design/cec-jpl设计.html"><strong aria-hidden="true">2.6.4.</strong> cec-jpl 设计</a></li><li class="chapter-item "><a href="../../tech/project/cicd/design/数据库自动化.html"><strong aria-hidden="true">2.6.5.</strong> 数据库自动化</a></li><li class="chapter-item "><a href="../../tech/project/cicd/design/账号体系.html"><strong aria-hidden="true">2.6.6.</strong> 账号体系</a></li></ol></li><li class="chapter-item "><a href="../../tech/db/doris/doris-uniq-model/index.html"><strong aria-hidden="true">2.7.</strong> Doris Uniq 模型：分析场景下保证 Key 的唯一性</a></li></ol></li><li class="chapter-item expanded "><a href="../../SUMMARY.html"><strong aria-hidden="true">3.</strong> 最佳实践</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tech/bestpractices/How-to-write-an-outline-for-a-technical-solution/index.html"><strong aria-hidden="true">3.1.</strong> 怎样写一个技术方案的大纲</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tech/bestpractices/How-to-write-an-outline-for-a-technical-solution/template.html"><strong aria-hidden="true">3.1.1.</strong> 《技术解决方案》模版</a></li></ol></li><li class="chapter-item "><a href="../../tech/bestpractices/my-toolchain.html"><strong aria-hidden="true">3.2.</strong> 分享一下我的工具清单</a></li><li class="chapter-item "><a href="../../tech/bestpractices/sql性能测试工具的设计.html"><strong aria-hidden="true">3.3.</strong> sql 性能测试工具的设计</a></li><li class="chapter-item "><a href="../../tech/project/jrudf/index.html"><strong aria-hidden="true">3.4.</strong> Doris Remote UDF 的开发和测试</a></li><li class="chapter-item "><a href="../../tech/bestpractices/禅道工作流.html"><strong aria-hidden="true">3.5.</strong> 禅道工作流</a></li><li class="chapter-item "><a href="../../tech/bestpractices/单元测试规范.html"><strong aria-hidden="true">3.6.</strong> 单元测试规范</a></li><li class="chapter-item "><a href="../../tech/bestpractices/数据库自动化-Flyway使用规范.html"><strong aria-hidden="true">3.7.</strong> 数据库自动化：Flyway</a></li><li class="chapter-item "><a href="../../tech/bestpractices/语义化版本控制规范.html"><strong aria-hidden="true">3.8.</strong> 语义化版本</a></li><li class="chapter-item "><a href="../../tech/bestpractices/API设计规范.html"><strong aria-hidden="true">3.9.</strong> API设计规范</a></li><li class="chapter-item "><a href="../../tech/bestpractices/git-collaborative-development-tutorials/git协同开发指南.html"><strong aria-hidden="true">3.10.</strong> git 协同开发指南</a></li><li class="chapter-item "><a href="../../tech/bestpractices/code-review-guide-baseon-gitlab.html"><strong aria-hidden="true">3.11.</strong> Gitlab Code Review 指南</a></li><li class="chapter-item "><a href="../../tech/bestpractices/gitlab-issue-workflow.html"><strong aria-hidden="true">3.12.</strong> Gitlab Issue 工作流</a></li><li class="chapter-item expanded "><a href="../../tech/bestpractices/Python编码规范.html" class="active"><strong aria-hidden="true">3.13.</strong> Python 编码规范</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Siu 的笔记本</h1>

                    <div class="right-buttons">
                        
                        
                        <a href="https://github.com/siu91/notebook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <!-- Page table of contents -->
                    <div class="sidetoc"><nav class="pagetoc"></nav></div>
                    <main>
                        <h1><a class="header" href="#python-代码规范" id="python-代码规范">Python 代码规范</a></h1>
<h2><a class="header" href="#11-编码" id="11-编码">1.1 编码</a></h2>
<p>•   如无特殊情况, 文件一律使用 UTF-8 编码</p>
<p>•   如无特殊情况, 文件头部必须加入#-<em>-coding:utf-8-</em>-标识</p>
<h2><a class="header" href="#12-代码格式" id="12-代码格式">1.2 代码格式</a></h2>
<h3><a class="header" href="#121--缩进" id="121--缩进">1.2.1  缩进</a></h3>
<p>•   统一使用 4 个空格进行缩进</p>
<h3><a class="header" href="#122--行宽" id="122--行宽">1.2.2  行宽</a></h3>
<p>每行代码尽量不超过 80 个字符(在特殊情况下可以略微超过 80 ，但最长不得超过 120)</p>
<p>理由：</p>
<p>•   这在查看 side-by-side 的 diff 时很有帮助</p>
<p>•   方便在控制台下查看代码</p>
<p>•   太长可能是设计有缺陷</p>
<p>例外：</p>
<ol>
<li>长的导入模块语句</li>
<li>注释里的URL</li>
</ol>
<p>不要使用反斜杆连接行。</p>
<p>Python会将圆括号，中括号和花括号中的行隐形的连接起来，你可以利用这个特点。如果代码需要，可在表达式外围增加一堆额外的圆括号。</p>
<pre><code class="language-python"># 推荐
if (width == 0 and height == 0 and
    color == 'red'):

# 文本时
x = (u&quot;这是一串很长很长很长很长很长很长很长很长很长很长&quot;
     &quot;很长很长很长很长很长很长很长很长的文字&quot;)

</code></pre>
<h3><a class="header" href="#123--引号" id="123--引号">1.2.3  引号</a></h3>
<p>简单说，自然语言使用双引号，机器标示使用单引号，因此 <strong>代码里</strong> 多数应该使用 <strong>单引号</strong></p>
<p>•   <strong>自然语言</strong> <strong>使用双引号</strong> &quot;...&quot;
例如错误信息；很多情况还是 unicode，使用u&quot;你好世界&quot;</p>
<p>•   <strong>机器标识</strong> <strong>使用单引号</strong> '...' 例如 dict 里的 key</p>
<p>•   <strong>正则表达式</strong> <strong>使用原生的双引号</strong> r&quot;...&quot;</p>
<p>•   <strong>文档字符串 (docstring)</strong> <strong>使用三个双引号</strong> &quot;&quot;&quot;......&quot;&quot;&quot;</p>
<h3><a class="header" href="#124--空行" id="124--空行">1.2.4  空行</a></h3>
<p>•   模块级函数和类定义之间空两行；</p>
<p>•   类成员函数之间空一行；</p>
<pre><code class="language-python">class A:

    def __init__(self):
        pass

    def hello(self):
        pass


def main():
    pass   

</code></pre>
<p>•   可以使用多个空行分隔多组相关的函数</p>
<p>•   函数中可以使用空行分隔出逻辑相关的代码</p>
<h3><a class="header" href="#125--编码" id="125--编码">1.2.5  编码</a></h3>
<p>•   文件使用 UTF-8 编码</p>
<p>•   文件头部加入#-<em>-conding:utf-8-</em>-标识</p>
<h3><a class="header" href="#126--括号" id="126--括号">1.2.6  括号</a></h3>
<p>除非是用于实现行连接, 否则不要在返回语句或条件语句中使用括号. 不过在元组两边使用括号是可以的.</p>
<pre><code class="language-python"># 正确
 if foo:
   bar()
 while x:
   x = bar()
 if x and y:
   bar()
 if not x:
   bar()
 return foo
 for(x, y) in dict.items(): ...
 
 # 错误
 if (x):
   bar()
 if not(x):
   bar()
 return (foo)
 
 # 元组
 tup1 = ('physics', 'chemistry', 1997, 2000)
 tup2 = (1, 2, 3, 4, 5 )
 tup3 = &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;
</code></pre>
<h3><a class="header" href="#127--分号" id="127--分号">1.2.7  分号</a></h3>
<p>不要用行尾加分号，也不要用分号将两条语句放在同一行。</p>
<h2><a class="header" href="#13--import-语句" id="13--import-语句">1.3  import 语句</a></h2>
<p>•   import 语句应该分行书写</p>
<pre><code class="language-python"># 正确的写法
 import os
 import sys
 
 # 不推荐的写法
 import sys,os
 
 # 正确的写法
 from subprocess import Popen, PIPE
</code></pre>
<p>•   import语句应该使用 <strong>absolute</strong> import</p>
<pre><code class="language-python"># 正确的写法
 from foo.bar import Bar

 # 不推荐的写法
 from ..bar import Bar
</code></pre>
<p>•   import语句应该放在文件头部，置于模块说明及docstring之后，于全局变量之前；</p>
<p>•   import语句应该按照顺序排列，每组之间用一个空行分隔</p>
<pre><code class="language-python">import os
import sys
 
import msgpack
import zmq
 
import foo
</code></pre>
<p>•   导入其他模块的类定义时，可以使用相对导入</p>
<pre><code class="language-python">from myclass import MyClass
</code></pre>
<p>•   如果发生命名冲突，则可使用命名空间</p>
<pre><code class="language-python">import bar
import foo.bar
 
 bar.Bar()
 foo.bar.Bar()
</code></pre>
<h2><a class="header" href="#14--空格" id="14--空格">1.4  空格</a></h2>
<p>•   在二元运算符两边各空一格[=,-,+=,==,&gt;,in,is not, and]:</p>
<pre><code class="language-python"># 正确的写法
 i = i + 1
 submitted += 1
 x = x * 2 - 1
 hypot2 = x * x + y * y
 c = (a + b) * (a - b)
 
 # 不推荐的写法
 i=i+1
 submitted +=1
 x = x*2 - 1
 hypot2 = x*x + y*y
 c = (a+b) * (a-b)
</code></pre>
<p>•   函数的参数列表中，,之后要有空格</p>
<pre><code class="language-python"># 正确的写法
 def complex(real, imag):
   pass
 
 # 不推荐的写法
 def complex(real,imag):
   pass
</code></pre>
<p>•   函数的参数列表中，默认值等号两边不要添加空格</p>
<pre><code class="language-python"># 正确的写法
 def complex(real, imag=0.0):
   pass
 
 # 不推荐的写法
 def complex(real, imag = 0.0):
   pass
</code></pre>
<p>•   左括号之后，右括号之前不要加多余的空格</p>
<pre><code class="language-python"># 正确的写法
 spam(ham[1], {eggs: 2})
 
 # 不推荐的写法
 spam( ham[1], { eggs : 2 } )
</code></pre>
<p>•   字典对象的左括号之前不要多余的空格</p>
<pre><code class="language-python"># 正确的写法
 dict['key'] = list[index]
 
 # 不推荐的写法
 dict ['key'] = list [index]
</code></pre>
<p>•   不要为对齐赋值语句而使用的额外空格</p>
<pre><code class="language-python"># 正确的写法
 x = 1
 y = 2
 long_variable = 3
 
 # 不推荐的写法
 x       = 1
 y       = 2
 long_variable = 3
</code></pre>
<h2><a class="header" href="#15--换行" id="15--换行">1.5  换行</a></h2>
<p>Python 支持括号内的换行。这时有两种情况。</p>
<p>•   第二行缩进到括号的起始处</p>
<pre><code class="language-python">foo = long_function_name(var_one, var_two,
             var_three, var_four)
</code></pre>
<p>•   第二行缩进 4 个空格，适用于起始括号就换行的情形</p>
<pre><code class="language-python">def long_function_name(
     var_one, var_two, var_three,
     var_four):
   print(var_one)
</code></pre>
<p>•   使用反斜杠\换行，二元运算符+ .等应出现在行末；长字符串也可以用此法换行</p>
<pre><code class="language-python">session.query(MyTable).\
     filter_by(id=1).\
     one()
        
 # 下面这种换行，建议改成括号内换行
 print 'Hello, '\
    '%s %s!' %\
    ('Harry', 'Potter')
     
 # 括号内换行   
 print ('Hello, '
    '%s %s!' %
    ('Harry', 'Potter'))
</code></pre>
<p>禁止复合语句，即一行中包含多个语句：</p>
<pre><code class="language-python"># 正确的写法
 do_first()
 do_second()
 do_third()
 
 # 不推荐的写法
 do_first();do_second();do_third();

if/for/while一定要换行：

# 正确的写法
 if foo == 'blah':
   do_blah_thing()
 
 # 不推荐的写法
 if foo == 'blah': do_blash_thing()
</code></pre>
<h2><a class="header" href="#16--docstring" id="16--docstring">1.6  docstring</a></h2>
<p>docstring 的规范中最其本的两点：</p>
<ol>
<li>所有的公共模块、函数、类、方法，都应该写 docstring 。私有方法不一定需要，但应该在 def 后提供一个块注释来说明。</li>
<li>docstring 的结束&quot;&quot;&quot;应该独占一行，除非此 docstring 只有一行。</li>
</ol>
<pre><code class="language-python">&quot;&quot;&quot;Return a foobar
 Optional plotz says to frobnicate the bizbaz first.
 &quot;&quot;&quot;
 
 &quot;&quot;&quot;Oneline docstring&quot;&quot;&quot;
</code></pre>
<h1><a class="header" href="#2--注释" id="2--注释">2  注释</a></h1>
<h2><a class="header" href="#21--注释" id="21--注释">2.1  注释</a></h2>
<h3><a class="header" href="#211--块注释" id="211--块注释">2.1.1  块注释</a></h3>
<p>“#”号后空一格，段落件用空行分开（同样需要“#”号）</p>
<pre><code class="language-python"># 块注释
# 块注释
#
# 块注释
# 块注释
</code></pre>
<h3><a class="header" href="#212--行注释" id="212--行注释">2.1.2  行注释</a></h3>
<p>至少使用两个空格和语句分开，注意不要使用无意义的注释</p>
<pre><code class="language-python"> # 正确的写法
 x = x + 1 # 边框加粗一个像素
 
 # 不推荐的写法(无意义的注释)
 x = x + 1 # x加1
</code></pre>
<h3><a class="header" href="#213--建议" id="213--建议">2.1.3  建议</a></h3>
<p>•   在代码的关键部分(或比较复杂的地方), 能写注释的要尽量写注释</p>
<p>•   比较重要的注释段, 使用多个等号隔开, 可以更加醒目, 突出重要性</p>
<pre><code class="language-python">app = create_app(name, options)


# =====================================
# 请勿在此处添加 get post等app路由行为 !!!
# =====================================


if __name__ == '__main__':
    app.run()

</code></pre>
<h3><a class="header" href="#214--todo注释" id="214--todo注释">2.1.4  TODO注释</a></h3>
<p>在注释开头添加“TODO”字符串，紧跟着是用括号括起来的你的名字/邮箱地址/其他标识符，紧接一个冒号和一个空格后添加注释内容，写明要做什么。</p>
<pre><code class="language-python"># TODO(xxx@cecdat.com): 这里解释要做什么
</code></pre>
<h2><a class="header" href="#22--文档注释docstring" id="22--文档注释docstring">2.2  文档注释（Docstring）</a></h2>
<p>作为文档的Docstring一般出现在模块头部、函数和类的头部，这样在python中可以通过对象的<strong>doc</strong>对象获取文档. 编辑器和IDE也可以根据Docstring给出自动提示.</p>
<p>•   文档注释以 &quot;&quot;&quot; 开头和结尾, 首行不换行, 如有多行, 末行必需换行, 以下是Google的docstring风格示例</p>
<pre><code class="language-python"># -*- coding: utf-8 -*-
&quot;&quot;&quot;Example docstrings.

This module demonstrates documentation as specified by the `Google Python
Style Guide`_. Docstrings may extend over multiple lines. Sections are created
with a section header and a colon followed by a block of indented text.

Example:
    Examples can be given using either the ``Example`` or ``Examples``
    sections. Sections support any reStructuredText formatting, including
    literal blocks::

        $ python example_google.py

Section breaks are created by resuming unindented text. Section breaks
are also implicitly created anytime a new section starts.
&quot;&quot;&quot;

</code></pre>
<p>•   不要在文档注释复制函数定义原型, 而是具体描述其具体内容, 解释具体参数和返回值等</p>
<p># 不推荐的写法(不要写函数原型等废话)</p>
<pre><code class="language-python">#  不推荐的写法(不要写函数原型等废话)
def function(a, b):
    &quot;&quot;&quot;function(a, b) -&gt; list&quot;&quot;&quot;
    ... ...


#  正确的写法
def function(a, b):
    &quot;&quot;&quot;计算并返回a到b范围内数据的平均值&quot;&quot;&quot;
    ... ...

</code></pre>
<p>•   对函数参数、返回值等的说明采用numpy标准, 如下所示</p>
<pre><code class="language-python">def func(arg1, arg2):
    &quot;&quot;&quot;在这里写函数的一句话总结(如: 计算平均值).

    这里是具体描述.

    参数
    ----------
    arg1 : int
        arg1的具体描述
    arg2 : int
        arg2的具体描述

    返回值
    -------
    int
        返回值的具体描述

    参看
    --------
    otherfunc : 其它关联函数等...

    示例
    --------
    示例使用doctest格式, 在`&gt;&gt;&gt;`后的代码可以被文档测试工具作为测试用例自动运行

    &gt;&gt;&gt; a=[1,2,3]
    &gt;&gt;&gt; print [x + 3 for x in a]
    [4, 5, 6]
    &quot;&quot;&quot;

</code></pre>
<p>•   文档注释不限于中英文, 但不要中英文混用</p>
<p>•   文档注释不是越长越好, 通常一两句话能把情况说清楚即可</p>
<p>•   模块、公有类、公有方法, 能写文档注释的, 应该尽量写文档注释</p>
<h2><a class="header" href="#23--文件头注释" id="23--文件头注释">2.3  文件头注释</a></h2>
<h3><a class="header" href="#231--模板" id="231--模板">2.3.1  模板</a></h3>
<pre><code class="language-python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : ${DATE} ${TIME}
# @author  : Siu
# @Project    : ${PROJECT_NAME}
# @Description    :
# @Copyright : xxx

</code></pre>
<h3><a class="header" href="#232--ide中设置模板" id="232--ide中设置模板">2.3.2  IDE中设置模板</a></h3>
<p>以Pycharm为例，选择菜单 File &gt; Settings &gt; File and Code Templates &gt; Python Script ，粘贴模板，保存</p>
<h1><a class="header" href="#3--命名规范" id="3--命名规范">3  命名规范</a></h1>
<h2><a class="header" href="#31-模块" id="31-模块">3.1 模块</a></h2>
<p>•   模块尽量使用小写命名，首字母保持小写，尽量不要用下划线(除非多个单词，且数量不多的情况)</p>
<pre><code class="language-python"># 正确的模块名
import decoder
import html_parser

# 不推荐的模块名
import Decoder

</code></pre>
<h2><a class="header" href="#32-类名" id="32-类名">3.2 类名</a></h2>
<p>•   类名使用驼峰(CamelCase)命名风格，首字母大写，私有类可用一个下划线开头</p>
<pre><code class="language-python">class Farm():
    pass

class AnimalFarm(Farm):
    pass

class _PrivateFarm(Farm):
    pass

</code></pre>
<p>•   将相关的类和顶级函数放在同一个模块里. 不像Java, 没必要限制一个类一个模块.</p>
<h2><a class="header" href="#33-函数" id="33-函数">3.3 函数</a></h2>
<p>•   函数名一律小写，如有多个单词，用下划线隔开</p>
<pre><code class="language-python">def run():
    pass

def run_with_env():
    pass

</code></pre>
<p>•   私有函数在函数前加一个下划线_</p>
<pre><code class="language-python">class Person():

    def _private_func():
        pass

</code></pre>
<h2><a class="header" href="#34-变量名" id="34-变量名">3.4 变量名</a></h2>
<p>•   变量名尽量小写, 如有多个单词，用下划线隔开</p>
<pre><code class="language-python">if __name__ == '__main__':
    count = 0
    school_name = ''
</code></pre>
<p>•   常量采用全大写，如有多个单词，使用下划线隔开</p>
<pre><code class="language-python">MAX_CLIENT = 100
MAX_CONNECTION = 1000
CONNECTION_TIMEOUT = 600
</code></pre>
<h2><a class="header" href="#35-常量" id="35-常量">3.5 常量</a></h2>
<p>•   常量使用以下划线分隔的大写命名</p>
<pre><code class="language-python">MAX_OVERFLOW = 100

Class FooBar:

    def foo_bar(self, print_):
        print(print_)

</code></pre>
<h1><a class="header" href="#4--主函数" id="4--主函数">4  主函数</a></h1>
<p>即使是一个打算被用作脚本的文件，也应该是可导入的。 并且简单的导入不应该导致这个脚本的主功能(main functionality)被执行。 主功能应该放在一个main()函数中，然后添加if <strong>name</strong> == '<strong>main</strong>'，防止当模块被导入时主程序被执行。</p>
<pre><code class="language-python">def main():
    ...
    
if __name__ == '__main__':
    main()

</code></pre>
<h1><a class="header" href="#5--其他" id="5--其他">5  其他</a></h1>
<h2><a class="header" href="#51-ide" id="51-ide">5.1 IDE</a></h2>
<p>推荐使用 <a href="https://www.jetbrains.com/pycharm/">PyCharm</a></p>
<h2><a class="header" href="#52-python-版本" id="52-python-版本">5.2 Python 版本</a></h2>
<p>待定。</p>
<p><strong>本页编辑</strong>      <strong><a href="http://192.168.1.23/gongshiwen">@gongshiwen</a></strong> <img src="http://192.168.1.23/uploads/-/system/user/avatar/10/avatar.png?width=100" style="zoom:10%;" /></p>

                        <div id="giscus-container"></div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../tech/bestpractices/gitlab-issue-workflow.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../tech/bestpractices/gitlab-issue-workflow.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" charset="utf-8">
        var pagePath = "tech/bestpractices/Python编码规范.md"
        </script>


        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="../../assets/custom.js"></script>
        
        <script type="text/javascript" src="../../assets/showBigPicture.js"></script>
        

        

    </body>
</html>